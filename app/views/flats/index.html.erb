<div class="d-flex justify-content-between align-items-center my-4 p-3 bg-white shadow rounded sticky-top" style="top: 0; z-index: 1000;">
  <h1 class="ms-3 fw-bold text-dark">Simple Airbnb</h1>
  <%= link_to "Register a flat", new_flat_path, class: "btn shadow-sm rounded-pill px-4", style: "background-color: #FF385C; color: white;" %>
</div>

<div class="container mt-5">
  <div class="row">
    <% @flats.each do |flat| %>
      <div class="col-md-6 mb-4">
        <div class="card h-100 shadow border-0 rounded-lg">
          <!-- Image Placeholder -->
          <%= image_tag "pexels-nextvoyage-3051551.jpg", class: "card-img-top rounded-top", alt: flat.name %>

          <div class="card-body d-flex flex-column p-4">
            <!-- Name -->
            <h4 class="card-title fw-bold mb-3" style="font-size: 1.6rem; color: #333;">
              <%= flat.name %>
            </h4>

            <!-- Description -->
            <p class="text-muted mb-3" style="font-size: 1rem;">
              <%= truncate(flat.description, length: 100) %>
            </p>

            <!-- Address and Details -->
            <p class="card-text mb-3" style="font-size: 0.95rem; color: #666;">
              <strong>Address:</strong> <%= flat.address %> <br>
              <%= flat.number_of_guests %> guest(s) <br>
              <strong style="color: #FF385C;">$<%= flat.price_per_night %>/night</strong>
            </p>

            <!-- Buttons -->
            <div class="mt-auto d-flex justify-content-end gap-2">
              <%= link_to "See Flat", flat_path(flat), class: "btn shadow-sm rounded-pill px-4", style: "background-color: #FF385C; color: white;" %>
              <%= link_to "Edit Flat", edit_flat_path(flat), class: "btn shadow-sm rounded-pill px-4", style: "background-color: #FFC107; color: black;" %>
              <%= link_to "Delete Flat", flat_path(flat),
                          class: "btn shadow-sm rounded-pill px-4",
                          style: "background-color: #6C757D; color: white;",
                          data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this flat?" } %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
